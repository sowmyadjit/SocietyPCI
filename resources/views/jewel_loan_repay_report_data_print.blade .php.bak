<link href="css/datepicker.css" rel='stylesheet'>
<script src="js/bootstrap-datepicker.js"/>


<div>
        <link href="css/bootstrap.min.css" rel='stylesheet' type="text/css" media="all">
        <link href="css/bootstrap-cerulean.min.css" rel='stylesheet' type="text/css" media="all"> 
		<div>
			<h2>POTTERS COTTAGE INDUSTRIAL CO-OP SOCIETY LTD.</h2>
			<h3>CHAKRASOUDHA, KULAI.</h3>
			<div>
				<h2>Customer Details</h2>    
				<table class="table table-striped bootstrap-datatable datatable responsive">
				<tr>
					<th>
						Customer Name:
					</th>
					<td>
						Djitsoft
					</td>
					<th>
						Customer ID:
					</th>
					<td>
						12345
					</td>
				</tr>
				<tr>
					<th>
						Customer Address:
					</th>
					<td>
						asdd
					</td>
					<th>
						Customer Ph No:
					</th>
					<td>
						decc
					</td>
				</tr>
				<tr>
					<th>
						Guarantor :
					</th>
					<td>
						qwerty
					</td>
					<th>
						Guarantor Ph No:
					</th>
					<td>
						1452365
					</td>
				</tr>
        </table>
        </div>
		</div>
</div>

<!-- Modal -->
<div class="modal fade" id="modal_repay_edit" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">EDIT REPAYMENT</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
	  
		<div class="form-group ">
			<input class="hidden" id="store_repay_id" value=""/>
			<label class="control-label col-sm-4" for="first_name">Interest Paid Till:</label>
			<div class="col-md-4">
				<input type="text" class="form-control datepicker" id="modal_interest_paid_till" name="modal_interest_paid_till" placeholder="YYYY/MM/DD" data-date-format="yyyy-mm-dd">
			</div>
		</div>
	  
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="button_save" data-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div>

<script>
	$(".btn_edit").click(function() {
		var repay_id = $(this).attr("data");
		console.log("repay_id="+repay_id);
		var int_date = $("#interest_paid_till_"+repay_id).html();
		console.log(int_date);
		if(int_date != "0000-00-00") {
			$("#modal_interest_paid_till").val(int_date);
		} else {
			$("#modal_interest_paid_till").val("");
		}
		$("#store_repay_id").val(repay_id);
	});
</script>
<script>
	$("#button_save").click(function() {
		console.log("save");
		
		var repay_id,int_date;
		repay_id = $("#store_repay_id").val();
		int_date = $("#modal_interest_paid_till").val();
		
		$.ajax({
			url:"save_repay_data",
			type:"post",
			data:"&repay_id="+repay_id+"&int_date="+int_date,
			success: function() {
				console.log("save_repay_data: done");
				$("#interest_paid_till_"+repay_id).html(int_date);
			}
		});
		
	});
</script>

<script>
	$('.datepicker').datepicker().on('changeDate',function(e){
		$(this).datepicker('hide');
	});
</script>
